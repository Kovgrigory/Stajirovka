(()=>{"use strict";var e,t={411:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reqDirs=void 0;var n=r(295);t.reqDirs=function(e,t){var r=new XMLHttpRequest;r.open("GET","/subdirs?root=".concat(e,"&sort=").concat(t)),r.onloadstart=function(){var e=document.getElementById("dirs");null!=e&&(e.innerHTML="загрузка...")},r.onload=function(){if(200===r.status){var e;if(1==(e=JSON.parse(r.response)).Status){var t=document.getElementById("dirs");return null!=t&&(t.innerHTML=e.ErrorText),void(0,n.buttonCheck)()}(0,n.showDirs)(e)}},r.onerror=function(){alert("error")},r.send()}},295:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buttonCheck=t.showDirs=void 0;var n=r(411);function o(){for(var e=document.getElementsByClassName("dir"),t=function(t){var r=e[t];r.addEventListener("click",(function(){root=r.id,(0,n.reqDirs)(root,sort)}))},r=0;r<e.length;r++)t(r);var o=document.getElementById("back");null!=o&&o.addEventListener("click",(function(){"/"!=root&&(root=root.substring(0,root.lastIndexOf("/")),(0,n.reqDirs)(root,sort))}));var d=document.getElementById("sort");null!=d&&d.addEventListener("click",(function(){"asc"==sort?sort="desc":"desc"==sort&&(sort="asc"),(0,n.reqDirs)(root,sort)}))}t.showDirs=function(e){var t=document.getElementById("dirs");if(function(){var e=document.getElementById("header");if(null!=e){e.innerHTML="";var t=document.createElement("button");t.setAttribute("id","back"),t.appendChild(document.createTextNode("назад")),e.appendChild(t);var r=document.createElement("button");r.setAttribute("id","sort"),e.appendChild(r);var n=document.createElement("button");n.appendChild(document.createTextNode(root)),n.setAttribute("id","roottext"),e.appendChild(n)}}(),0==e.Dirs.length)return null!=t&&(t.innerHTML="пусто"),void o();if(null!=t){t.innerHTML="";for(var r=0,n=e.Dirs;r<n.length;r++){var d=n[r],i=document.createElement("button");i.setAttribute("id","".concat(d.Path,"/").concat(d.Name)),i.setAttribute("class",d.Type);var a=document.createTextNode(" ".concat(d.Name," | ").concat(d.Size.toFixed(3)," мб"));i.appendChild(a),t.appendChild(i);var c=document.createElement("br");t.appendChild(c)}var s=document.createElement("p");s.setAttribute("id","timetext"),s.appendChild(document.createTextNode("время подсчета: "+e.Time)),t.appendChild(s)}o()},t.buttonCheck=o}},r={};e=function e(n){var o=r[n];if(void 0!==o)return o.exports;var d=r[n]={exports:{}};return t[n](d,d.exports,e),d.exports}(411),sort="asc",root="/",(0,e.reqDirs)(root,sort)})();